<!DOCTYPE HTML>
<html xmlns:th="https://www.thymeleaf.org">
<head>
    <title>SimpleTree</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body id="simpletreebody">
	<h1>Form</h1>
    <form action="#" th:action="@{/simpletree}" th:object="${simpletree}" method="post">
    	<p>Insert: <input type="text" default="" th:field="*{mytree}" /></p>
        <p><input type="submit" value="Submit" /> <input type="reset" value="Reset" /></p>
    </form>
    <h1>Result</h1>
    <p id="orderslist" th:text="${simpletree.mytree}" />
    <a href="/">Submit another tree</a>
    <script>
    function makeList() {
        let listDataRaw = document.getElementById("orderslist");
        let listDataRawText = listDataRaw.textContent;
        listDataRaw.parentNode.removeChild(listDataRaw);
        let listData = listDataRawText.split(";");
        // Make a container element for the list
        listContainer = document.createElement('div'),
        // Make the list
        listElement = document.createElement('ul'),
        // Set up a loop that goes through the items in listItems one at a time
        numberOfListItems = listData.length,

        // Add it to the page
        //document.getElementsByTagName('body')[0].appendChild(listContainer);
        document.getElementById("simpletreebody").appendChild(listContainer)
        listContainer.appendChild(listElement);

        for (let i = 0; i < numberOfListItems - 1; ++i) {
            // create an item for each one
            let listItem = document.createElement('li');

            // Add the item text
            listItem.innerHTML = listData[i];

            // Add listItem to the listElement
            listElement.appendChild(listItem);
        }
    }

    // Usage
    makeList();
    </script>
</body>
</html>